LANGUAGES = {
    "en": "English",
    "es": "Espa帽ol",
    "ca": "Catal",
}

def get_translation(lang_code, key, **kwargs):
    """Retrieve a translation with graceful fallback."""
    translations = TRANSLATIONS.get(lang_code, TRANSLATIONS.get("en", {}))
    text = translations.get(key, f"MISSING_TRANSLATION[{key}]")
    try:
        return text.format(**kwargs)
    except Exception:
        return text

TRANSLATIONS = {
    "en": {
        "gym_churn_predictor": "GYM CHURN PREDICTOR",
        "login_register": "Login or Register",
        "login_to_your_account": "Login to your Account",
        "username": "Username",
        "password": "Password",
        "login": "Login",
        "invalid_username_or_password": "Invalid Username or Password",
        "create_a_new_account": "Create a New Account",
        "new_username": "New Username",
        "new_password": "New Password",
        "confirm_password": "Confirm Password",
        "passwords_do_not_match": "Passwords do not match.",
        "username_already_exists": "Username already exists. Please choose a different one.",
        "account_created_successfully": "Account created successfully! Please login.",
        "register": "Register",
        "ai_powered_insights": "AI-powered insights for member retention",
        "gym_churn_predictor_dashboard": "Gym Churn Predictor Dashboard",
        "welcome": "Welcome, {username}!",
        "data_overview": "Data Overview",
        "total_users": "Total Users",
        "total_visits": "Total Visits",
        "churned_users": "Churned Users",
        "active_users": "Active Users",
        "users_at_risk": "Users at Risk",
        "churn_rate": "Churn Rate",
        "features_used_to_predict_churn": "Features used to Predict Churn",
        "features_created": "Features created: {shape}",
        "trained_model_loaded_successfully": "Trained AI model loaded successfully!",
        "no_trained_model_found": "No trained model found. Training a new model now...",
        "new_model_trained_and_saved": "New model trained and saved!",
        "feature_importance": "Importance of each feature to predict churn",
        "summary_statistics": "Summary Statistics",
        "churned_vs_active_users_comparison": "Churned vs Active Users Comparison",
        "at_risk_active_users": "At-Risk Active Users",
        "top_10_at_risk_users": "Top 10 At-Risk Users:",
        "high_risk_users_message": "Our AI predictor has detected {n} users at high churn risk.",
        "back_to_first_10": "Back to First 10",
        "load_next_10_at_risk_users": "Load Next 10 At-Risk Users",
        "risk_level_high": "High",
        "risk_level_medium": "Medium",
        "risk_level_low": "Low",
        "password_requirements": "Password must be at least 9 characters long and contain at least one capital letter, one number, and one letter",
        "how_the_ai_model_works": "How the AI Model Works",
        "model_explanation_title": "Understanding Your Gym Member Retention AI",
        "model_explanation_text": "Our AI model analyzes your gym members' behavior patterns to predict who might stop coming to the gym. Here's how it works in simple terms:",
        "model_step_1": " Data Collection: We look at member information like registration dates, membership types, and visit patterns.",
        "model_step_2": " Pattern Recognition: The AI learns from past data to identify what behaviors typically lead to members leaving (churning).",
        "model_step_3": " Risk Prediction: For each active member, the AI calculates a risk score from Low to High based on their recent activity.",
        "model_step_4": " Actionable Insights: You get a prioritized list of members to focus your retention efforts on, saving time and money.",
        "model_why_important": "This helps gym owners like you proactively reach out to members before they leave, improving retention rates and business success.",
        "how_it_works_section": "How It Works:",
        "why_this_matters_section": "Why This Matters:",
        "data_collection_title": "Data Collection",
        "pattern_recognition_title": "Pattern Recognition",
        "risk_prediction_title": "Risk Prediction",
        "actionable_insights_title": "Actionable Insights",
        "model_documentation_loading_title": "AI Model Documentation",
        "loading_message": "Loading...",
        "loading_users_message": "Loading users..."
    },
    "es": {
        "gym_churn_predictor": "PREDICTOR DE BAJA DE GIMNASIO",
        "login_register": "Iniciar sesi贸n o Registrarse",
        "login_to_your_account": "Iniciar sesi贸n en tu cuenta",
        "username": "Nombre de usuario",
        "password": "Contrase帽a",
        "login": "Iniciar sesi贸n",
        "invalid_username_or_password": "Nombre de usuario o contrase帽a inv谩lidos",
        "create_a_new_account": "Crear una nueva cuenta",
        "new_username": "Nuevo nombre de usuario",
        "new_password": "Nueva contrase帽a",
        "confirm_password": "Confirmar contrase帽a",
        "passwords_do_not_match": "Las contrase帽as no coinciden.",
        "username_already_exists": "El nombre de usuario ya existe. Por favor, elige otro.",
        "account_created_successfully": "隆Cuenta creada exitosamente! Por favor, inicia sesi贸n.",
        "register": "Registrarse",
        "ai_powered_insights": "An谩lisis impulsado por IA para la retenci贸n de miembros",
        "gym_churn_predictor_dashboard": "Panel de Predicci贸n de Bajas de Gimnasio",
        "welcome": "隆Bienvenido, {username}!",
        "data_overview": "Resumen de Datos",
        "total_users": "Usuarios Totales",
        "total_visits": "Visitas Totales",
        "churned_users": "Usuarios Dados de Baja",
        "active_users": "Usuarios Activos",
        "users_at_risk": "Usuarios en Riesgo",
        "churn_rate": "Tasa de Baja",
        "features_used_to_predict_churn": "Caracter铆sticas utilizadas para predecir la baja",
        "features_created": "Caracter铆sticas creadas: {shape}",
        "trained_model_loaded_successfully": "隆Modelo de IA entrenado cargado exitosamente!",
        "no_trained_model_found": "No se encontr贸 ning煤n modelo entrenado. Entrenando uno nuevo ahora...",
        "new_model_trained_and_saved": "隆Nuevo modelo entrenado y guardado!",
        "feature_importance": "Importancia de cada caracter铆stica para predecir el abandono",
        "summary_statistics": "Estad铆sticas Resumidas",
        "churned_vs_active_users_comparison": "Comparaci贸n de Usuarios Dados de Baja vs Activos",
        "at_risk_active_users": "Usuarios Activos en Riesgo",
        "top_10_at_risk_users": "Top 10 Usuarios en Riesgo:",
        "high_risk_users_message": "Nuestro predictor de IA ha detectado {n} usuarios con alto riesgo de baja.",
        "back_to_first_10": "Volver a los primeros 10",
        "load_next_10_at_risk_users": "Cargar pr贸ximos 10 usuarios en riesgo",
        "risk_level_high": "Alto",
        "risk_level_medium": "Medio",
        "risk_level_low": "Bajo",
        "password_requirements": "La contrase帽a debe tener al menos 9 caracteres y contener al menos una letra may煤scula, un n煤mero y una letra",
        "how_the_ai_model_works": "C贸mo Funciona el Modelo de IA",
        "model_explanation_title": "Entendiendo tu IA de Retenci贸n de Miembros del Gimnasio",
        "model_explanation_text": "Nuestro modelo de IA analiza los patrones de comportamiento de los miembros del gimnasio para predecir qui茅n podr铆a dejar de venir. Aqu铆 te explicamos c贸mo funciona de manera sencilla:",
        "model_step_1": " Recopilaci贸n de Datos: Observamos informaci贸n de los miembros como fechas de registro, tipos de membres铆a y patrones de visitas.",
        "model_step_2": " Reconocimiento de Patrones: La IA aprende de datos pasados para identificar qu茅 comportamientos suelen llevar a que los miembros se vayan (abandono).",
        "model_step_3": " Predicci贸n de Riesgo: Para cada miembro activo, la IA calcula una puntuaci贸n de riesgo de Bajo a Alto basada en su actividad reciente.",
        "model_step_4": " Informaci贸n Accionable: Obtienes una lista priorizada de miembros en los que enfocar tus esfuerzos de retenci贸n, ahorrando tiempo y dinero.",
        "model_why_important": "Esto ayuda a propietarios de gimnasios como t煤 a contactar proactivamente con los miembros antes de que se vayan, mejorando las tasas de retenci贸n y el 茅xito del negocio.",
        "how_it_works_section": "C贸mo Funciona:",
        "why_this_matters_section": "Por Qu茅 Importa:",
        "data_collection_title": "Recopilaci贸n de Datos",
        "pattern_recognition_title": "Reconocimiento de Patrones",
        "risk_prediction_title": "Predicci贸n de Riesgo",
        "actionable_insights_title": "Informaci贸n Accionable",
        "model_documentation_loading_title": "Documentaci贸n del Modelo de IA",
        "loading_message": "Cargando...",
        "loading_users_message": "Cargando usuarios..."
    },
    "ca": {
        "gym_churn_predictor": "PREDICTOR DE BAIMES DE GIMNS",
        "login_register": "Iniciar sessi贸 o Registrar-se",
        "login_to_your_account": "Inicia sessi贸 al teu compte",
        "username": "Nom d'usuari",
        "password": "Contrasenya",
        "login": "Iniciar sessi贸",
        "invalid_username_or_password": "Nom d'usuari o contrasenya invlids",
        "create_a_new_account": "Crear un nou compte",
        "new_username": "Nou nom d'usuari",
        "new_password": "Nova contrasenya",
        "confirm_password": "Confirmar contrasenya",
        "passwords_do_not_match": "Les contrasenyes no coincideixen.",
        "username_already_exists": "El nom d'usuari ja existeix. Si us plau, tria un altre.",
        "account_created_successfully": "Compte creat correctament! Si us plau, inicia sessi贸.",
        "register": "Registrar-se",
        "ai_powered_insights": "Anlisi impulsada per IA per a la retenci贸 de membres",
        "gym_churn_predictor_dashboard": "Panell de Predicci贸 de Baixes de Gimns",
        "welcome": "Benvingut, {username}!",
        "data_overview": "Resum de Dades",
        "total_users": "Usuaris Totals",
        "total_visits": "Visites Totals",
        "churned_users": "Usuaris Donats de Baixa",
        "active_users": "Usuaris Actius",
        "users_at_risk": "Usuaris en Risc",
        "churn_rate": "Taxa de Baixa",
        "features_used_to_predict_churn": "Caracter铆stiques utilitzades per predir la baixa",
        "features_created": "Caracter铆stiques creades: {shape}",
        "trained_model_loaded_successfully": "Model d'IA entrenat carregat correctament!",
        "no_trained_model_found": "No s'ha trobat cap model entrenat. Entrenant-ne un de nou ara...",
        "new_model_trained_and_saved": "Nou model entrenat i guardat!",
        "feature_importance": "Importncia de cada caracter铆stica per predir l'abandonament",
        "summary_statistics": "Estad铆stiques Resumides",
        "churned_vs_active_users_comparison": "Comparaci贸 d'Usuaris Donats de Baixa vs Actius",
        "at_risk_active_users": "Usuaris Actius en Risc",
        "top_10_at_risk_users": "Top 10 Usuaris en Risc:",
        "high_risk_users_message": "El nostre predictor d'IA ha detectat {n} usuaris amb alt risc de baixa.",
        "back_to_first_10": "Tornar als primers 10",
        "load_next_10_at_risk_users": "Carregar propers 10 usuaris en risc",
        "risk_level_high": "Alt",
        "risk_level_medium": "Mitj",
        "risk_level_low": "Baix",
        "password_requirements": "La contrasenya ha de tenir almenys 9 carcters i contenir almenys una lletra maj煤scula, un n煤mero i una lletra",
        "how_the_ai_model_works": "Com Funciona el Model d'IA",
        "model_explanation_title": "Entenent la teva IA de Retenci贸 de Membres del Gimns",
        "model_explanation_text": "El nostre model d'IA analitza els patrons de comportament dels membres del gimns per predir qui podria deixar de venir. Aqu铆 t'expliquem com funciona de manera senzilla:",
        "model_step_1": " Recopilaci贸 de Dades: Observem informaci贸 dels membres com dates de registre, tipus de membres铆a i patrons de visites.",
        "model_step_2": " Reconeixement de Patrons: La IA apr猫n de dades passades per identificar quins comportaments solen portar a que els membres se'n vagin (aband贸).",
        "model_step_3": " Predicci贸 de Risc: Per cada membre actiu, la IA calcula una puntuaci贸 de risc de Baix a Alt basada en la seva activitat recent.",
        "model_step_4": " Informaci贸 Accionable: Obtens una llista prioritzada de membres en els que enfocar els teus esfor莽os de retenci贸, estalviant temps i diners.",
        "model_why_important": "Aix貌 ajuda a propietaris de gimns com tu a contactar proactivament amb els membres abans que se'n vagin, millorant les taxes de retenci贸 i l'猫xit del negoci.",
        "how_it_works_section": "Com Funciona:",
        "why_this_matters_section": "Per Qu猫 Importa:",
        "data_collection_title": "Recopilaci贸 de Dades",
        "pattern_recognition_title": "Reconeixement de Patrons",
        "risk_prediction_title": "Predicci贸 de Risc",
        "actionable_insights_title": "Informaci贸 Accionable",
        "model_documentation_loading_title": "Documentaci贸 del Model d'IA",
        "loading_message": "Carregant...",
        "loading_users_message": "Carregant usuaris..."
    }
}